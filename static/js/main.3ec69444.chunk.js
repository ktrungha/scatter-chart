(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(34)},25:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),c=n.n(i),o=(n(25),n(4)),l=n(6),s=n(7),u=n(10),m=n(8),d=n(9),h=n(1),v=n(2),y=n(3),g=n(16);function p(){var e=Object(v.a)(["\n  margin-right: 10px;\n  display: flex;\n  flex-direction: column-reverse;\n  align-items: flex-end;\n  justify-content: space-between;\n  height: 100%;\n"]);return p=function(){return e},e}function f(){var e=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  height: ",";\n"]);return f=function(){return e},e}function x(){var e=Object(v.a)(["\n  width: fit-content;\n  height: fit-content;\n"]);return x=function(){return e},e}var b="circle",E="square",w="triangle",k="diamond",X=y.a.div(x()),C=y.a.div(f(),function(e){return"".concat(e.height,"px")}),j=y.a.div(p());function Y(e,t,n,a){return(e-t)/(n-t)*a}function S(e,t,n){return 100-(e-t)/(n-t)*100}function O(e){var t=e.type,n=e.x,a=e.y,i=e.color,c=e.onClick;if(t===b)return r.a.createElement("circle",{draggable:!1,cx:n,cy:a,r:2,fill:i,onClick:c,style:{filter:"url(#shadow)"}});if(t===E)return r.a.createElement("polygon",{draggable:!1,points:"".concat(n-2," ").concat(a-2,", ").concat(n+2," ").concat(a-2,", ").concat(n+2," ").concat(a+2,", ").concat(n-2," ").concat(a+2),fill:i,onClick:c,style:{filter:"url(#shadow)"}});if(t===w){return r.a.createElement("polygon",{draggable:!1,points:"".concat(n," ").concat(a-3,", ").concat(n+2.598," ").concat(a+1.5,", ").concat(n-2.598," ").concat(a+1.5),fill:i,onClick:c,style:{filter:"url(#shadow)"}})}return t===k?r.a.createElement("polygon",{draggable:!1,points:"".concat(n," ").concat(a-2.828,", ").concat(n+2.828," ").concat(a,", ").concat(n," ").concat(a+2.828,", ").concat(n-2.828," ").concat(a),fill:i,onClick:c,style:{filter:"url(#shadow)"}}):r.a.createElement("div",null)}function M(e){var t=e.pos,n=t.rectangleX1,a=t.rectangleX2,i=t.rectangleY1,c=t.rectangleY2;return n&&a&&i&&c?r.a.createElement("div",{draggable:!1,style:{userSelect:"none",position:"absolute",top:Math.min(i,c),left:Math.min(n,a),width:Math.abs(n-a),height:Math.abs(i-c),backgroundColor:"grey",opacity:.2}}):r.a.createElement("div",null)}O.defaultProps={color:"#e0a31f",onClick:void 0};var D=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).svgContainer=r.a.createRef(),n.extra=4,n.state={},n.mouseDown=n.mouseDown.bind(Object(h.a)(Object(h.a)(n))),n.mouseMove=Object(g.throttle)(n.mouseMove.bind(Object(h.a)(Object(h.a)(n))),100,{trailing:!0}),n.mouseUp=n.mouseUp.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.svgContainer.current.addEventListener("mousedown",this.mouseDown),this.svgContainer.current.addEventListener("mousemove",this.mouseMove),this.svgContainer.current.addEventListener("mouseup",this.mouseUp)}},{key:"componentWillUnmount",value:function(){this.svgContainer.current.removeEventListener("mousedown",this.mouseDown),this.svgContainer.current.removeEventListener("mousemove",this.mouseMove),this.svgContainer.current.removeEventListener("mouseup",this.mouseUp)}},{key:"mouseDown",value:function(e){var t=e.clientX,n=e.clientY,a=this.svgContainer.current.getBoundingClientRect();this.setState({rectangleX1:t-a.x,rectangleY1:n-a.y,rectangleX2:void 0,rectangleY2:void 0,drawing:!0})}},{key:"mouseMove",value:function(e){var t=e.clientX,n=e.clientY,a=this.svgContainer.current.getBoundingClientRect();this.state.drawing&&this.setState({rectangleX2:t-a.x,rectangleY2:n-a.y})}},{key:"mouseUp",value:function(e){var t=e.clientX,n=e.clientY,a=this.state,r=a.rectangleX1,i=a.rectangleY1,c=a.convertData,o=a.viewBoxMaxX,l=this.props.onSelect,s=this.svgContainer.current.getBoundingClientRect(),u=t-s.x,m=n-s.y;if(r!==u&&i!==m){if(this.setState({rectangleX2:u,rectangleY2:m,drawing:!1}),l){var d=Math.min(r,u)/s.width*(2*this.extra+o)-this.extra,h=Math.max(r,u)/s.width*(2*this.extra+o)-this.extra,v=Math.min(i,m)/s.height*(2*this.extra+100)-this.extra,y=Math.max(i,m)/s.height*(2*this.extra+100)-this.extra;l(c.filter(function(e){return d<e.x&&e.x<h&&v<e.y&&e.y<y}).map(function(e){return e.key}))}}else this.setState({rectangleX2:void 0,rectangleY2:void 0,drawing:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.xLabel,a=t.yLabel,i=t.aspectRatio,c=t.height,l=t.title,s=t.xSteps,u=t.ySteps,m=c*i,d=this.state,h=d.rectangleX1,v=d.rectangleX2,y=d.rectangleY1,g=d.rectangleY2,p=d.viewBoxMaxX,f=d.minX,x=d.maxX,Y=d.minY,S=d.maxY,D=d.convertData;return r.a.createElement(X,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},r.a.createElement("div",{style:{width:"".concat(m,"px"),display:"flex",justifyContent:"center"}},l)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(C,{height:c},r.a.createElement("div",{style:{marginRight:"10px"}},a),r.a.createElement(j,null,Object(o.a)(Array(u+1).keys()).map(function(e){return r.a.createElement("div",{key:e},Y+e*(S-Y)/u)}))),r.a.createElement("div",{draggable:!1,style:{userSelect:"none",height:"".concat(c,"px"),width:"".concat(m,"px"),position:"relative"},ref:this.svgContainer},r.a.createElement("svg",{draggable:!1,viewBox:"".concat(0-this.extra," ").concat(0-this.extra," ").concat(p+2*this.extra," ").concat(100+2*this.extra)},r.a.createElement("defs",null,r.a.createElement("filter",{id:"shadow",y:"-40%",height:"180%",x:"-40%",width:"180%"},r.a.createElement("feDropShadow",{dx:"0",dy:"0",stdDeviation:"0.5"}))),Object(o.a)(Array(u+1).keys()).map(function(e){return r.a.createElement("line",{draggable:!1,key:e,x1:"0",y1:100*e/u,x2:p,y2:100*e/u,strokeWidth:.25,stroke:"#aaacaf"})}),Object(o.a)(Array(s+1).keys()).map(function(e){return r.a.createElement("line",{draggable:!1,key:e,y1:"0",x1:e*p/s,y2:"100",x2:e*p/s,strokeWidth:.25,stroke:"#aaacaf"})}),D.map(function(e){return r.a.createElement(O,{key:e.key,type:(t=e.type,0===t?b:1===t?E:2===t?w:3===t?k:null),x:e.x,y:e.y,color:e.color});var t})),r.a.createElement(M,{pos:{rectangleX1:h,rectangleX2:v,rectangleY1:y,rectangleY2:g}}),Object(o.a)(Array(s+1).keys()).map(function(t){return r.a.createElement("div",{style:{position:"absolute",top:c,left:(t*p/s+e.extra)/(2*e.extra+p)*c*i,transform:"translateX(-50%)"},key:"".concat(t,"-label")},f+t*(x-f)/s)}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},r.a.createElement("div",{style:{width:"".concat(m,"px")}},r.a.createElement("div",{style:{marginTop:"25px",display:"flex",justifyContent:"center"}},n))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.data,n=e.aspectRatio,a=t.reduce(function(e,t){var n=e.minX,a=e.maxX,r=e.minY,i=e.maxY,c=t.x,o=t.y,l={};return l.minX=void 0===n||n>c?c:n,l.maxX=void 0===a||a<c?c:a,l.minY=void 0===r||r>o?o:r,l.maxY=void 0===i||i<o?o:i,l},{}),r=a.minX,i=a.maxX,c=a.minY,o=a.maxY,l=100*n,s=t.map(function(e){return{x:Y(e.x,r,i,l),y:S(e.y,c,o),key:e.key,type:e.type,color:e.color}});return{minX:r,maxX:i,minY:c,maxY:o,convertData:s,viewBoxMaxX:l}}}]),t}(r.a.PureComponent);D.defaultProps={aspectRatio:1,height:300,xSteps:10,ySteps:10,data:[],onSelect:void 0};var L=D;function B(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin: 10px;\n"]);return B=function(){return e},e}function R(){var e=Object(v.a)(["\n  width: 100px;\n  padding: 3px;\n"]);return R=function(){return e},e}var A=["#ff5722","#2196f3","#4caf50","#673ab7"],F=y.a.input(R()),N=y.a.div(B()),U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={minX:0,minY:0,maxX:100,maxY:100,count:20,data:[]},n.onSelect=n.onSelect.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onSelect",value:function(e){this.setState({selectedKeys:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.minX,a=t.maxX,i=t.minY,c=t.maxY,l=t.count,s=t.selectedKeys,u=t.data;return r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("div",{style:{textAlign:"center",margin:"10px"}},"This is a scatter chart where you can draw rectangle to select data points"),r.a.createElement("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"center",width:"fit-content",margin:"auto"}},r.a.createElement("div",{style:{width:"300px",display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("div",{style:{textAlign:"center",margin:"20px"}},"Generate data"),r.a.createElement(N,null,"Number of points:"," ",r.a.createElement(F,{value:l,type:"number",onChange:function(t){return e.setState({count:Number.parseFloat(t.target.value)})}})),r.a.createElement(N,null,"min X:"," ",r.a.createElement(F,{value:n,type:"number",onChange:function(t){return e.setState({minX:Number.parseFloat(t.target.value)})}})),r.a.createElement(N,null,"max X:"," ",r.a.createElement(F,{value:a,type:"number",onChange:function(t){return e.setState({maxX:Number.parseFloat(t.target.value)})}})),r.a.createElement(N,null,"min Y:"," ",r.a.createElement(F,{value:i,type:"number",onChange:function(t){return e.setState({minY:Number.parseFloat(t.target.value)})}})),r.a.createElement(N,null,"max Y:"," ",r.a.createElement(F,{value:c,type:"number",onChange:function(t){return e.setState({maxY:Number.parseFloat(t.target.value)})}})),r.a.createElement("div",{style:{textAlign:"center",margin:"20px"}},r.a.createElement("button",{type:"submit",onClick:function(){var t=Object(o.a)(Array(l).keys()).map(function(e){return{key:e,x:Math.round(Math.random()*(a-n)+n),y:Math.round(Math.random()*(c-i)+i),type:Math.floor(4*Math.random()),color:A[Math.floor(4*Math.random())]}});e.setState({data:t})}},"Generate"))),r.a.createElement("div",{style:{padding:"25px"}},r.a.createElement(L,{title:"Chart title",xLabel:"X",yLabel:"Y",height:400,aspectRatio:1,xSteps:5,ySteps:5,data:u,onSelect:this.onSelect})),r.a.createElement("div",{style:{width:"400px",padding:"15px"}},r.a.createElement("div",null,"Selected Points:"),s&&u.filter(function(e){return-1!==s.indexOf(e.key)}).map(function(e){var t=e.x,n=e.y,a=e.key;return r.a.createElement("div",{key:a},"x:",t,"; y:",n,"; key:",a)}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("div",null,"Data points:"),u.map(function(t){return r.a.createElement("div",{style:{margin:"5px"}},"x:"," ",r.a.createElement(F,{value:t.x,type:"number",onChange:function(n){u[t.key].x=Number.parseFloat(n.target.value),e.setState({data:u})}})," ","\xa0 y:"," ",r.a.createElement(F,{value:t.y,type:"number",onChange:function(n){u[t.key].y=Number.parseFloat(n.target.value),e.setState({data:u})}})," ","\xa0 key:",t.key,",\xa0 color:",r.a.createElement("span",{style:{marginLeft:"5px",width:"10px",height:"10px",display:"inline-block",backgroundColor:t.color}}))})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.3ec69444.chunk.js.map